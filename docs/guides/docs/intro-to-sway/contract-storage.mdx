---
title: 存储
category: Intro to Sway
parent:
  label: All Guides
  link: /guides
---

# 定义存储块

接下来，我们将介绍存储块。这是您在合约中存储所有持久性状态变量的地方。

在函数内声明的变量，如果没有保存在存储块中，将在函数执行完成后被丢弃。将下面的存储块添加到您的`main.sw`文件中：

<TestAction
id="sway-storage"
action={{
  name: 'modifyFile',
  filepath: 'guides-testing/fuel-project/contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/intro-to-sway/contract/src/main.sw"
  comment="storage"
  commentType="//"
  lang="sway"
/>


我们存储的第一个变量是`item_counter`，一个初始化为0的数字。此计数器可用于跟踪列出的物品的总数。

## StorageMap

`StorageMap`是一种允许在存储块中保存键值对的独特类型。

要定义一个存储映射，您需要指定键和值的类型。例如，在下面的示例中，键类型是`u64`，值类型是一个`Item`结构体。


<CodeImport
  file="../../examples/intro-to-sway/contract/src/main.sw"
  comment="storage_map"
  commentType="//"
  lang="sway"
/>

在这里，我们创建了一个从物品ID到`Item`结构体的映射。使用这个映射，我们可以通过其ID检索有关物品的信息。

## 选项

在这里，我们将`owner`变量定义为可能是`None`或持有`Identity`的变量。

<CodeImport
  file="../../examples/intro-to-sway/contract/src/main.sw"
  comment="storage_option"
  commentType="//"
  lang="sway"
/>

如果您希望某个值在特定条件下可能为null或未定义，则可以使用`Option`类型。它是一个枚举，可以取`Some(value)`或`None`。关键字`None`表示没有值，而`Some`表示存储的值的存在。
