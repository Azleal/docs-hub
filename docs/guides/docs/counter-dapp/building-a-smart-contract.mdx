---
title: ç¼–å†™æ™ºèƒ½åˆçº¦
category: Counter Dapp
parent:
  label: All Guides
  link: /guides
---

# ç¼–å†™ Sway æ™ºèƒ½åˆçº¦

## å®‰è£…

<TextImport
  file="../installation/index.mdx"
  comment="install_fuelup"
  commentType="{/*"
/>

<CodeImport
  file="../installation/index.mdx"
  comment="install_fuelup_command"
  commentType="{/*"
  lang="sh"
  trim="true"
/>

{/*install_help:example:start*/}
> é‡åˆ°é—®é¢˜äº†å—ï¼Ÿè®¿é—® [å®‰è£…æŒ‡å—](/guides/installation) æˆ–åœ¨æˆ‘ä»¬çš„ [è®ºå›](https://forum.fuel.network/) å‘å¸–æé—®ã€‚
{/*install_help:example:end*/}

<TextImport
  file="../installation/index.mdx"
  comment="install_VSCode_extensions"
  commentType="{/*"
/>

### å·²å®‰è£… `fuelup` ï¼Ÿ

{/*already_installed:example:start*/}
å¦‚æœæ‚¨å·²ç»å®‰è£…äº† `fuelup`ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®ä¿æ‚¨çš„å·¥å…·é“¾æ˜¯æœ€æ–°çš„ã€‚

```sh
fuelup self update
fuelup update
fuelup default latest
```

{/*already_installed:example:end*/}

## æ‚¨çš„ç¬¬ä¸€ä¸ª Sway é¡¹ç›®

æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨åˆçº¦ï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªå‡½æ•°ï¼šä¸€ä¸ªç”¨äºé€’å¢è®¡æ•°å™¨ï¼Œä¸€ä¸ªç”¨äºè¿”å›è®¡æ•°å™¨çš„å€¼ã€‚

**é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°†å…¶å‘½åä¸º `fuel-project`ã€‚**

<TestAction
id="create-project-folder"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing'
}}
/>

```sh
mkdir fuel-project
```

### ç¼–å†™åˆçº¦

è¿›å…¥æ‚¨çš„ `fuel-project` æ–‡ä»¶å¤¹ï¼š

```sh
cd fuel-project
```

ç„¶åä½¿ç”¨ `forc` åˆ›å»ºä¸€ä¸ªåˆçº¦é¡¹ç›®ï¼š

<TestAction
id="create-contract"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project'
}}
/>

```sh
forc new counter-contract
```

æ‚¨å°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```sh
To compile, use `forc build`, and to run tests use `forc test`
----
Read the Docs:
- Sway Book: https://docs.fuel.network/docs/sway
- Forc Book: https://docs.fuel.network/docs/forc
- Rust SDK Book: https://docs.fuel.network/docs/fuels-rs
- TypeScript SDK: https://docs.fuel.network/docs/fuels-ts

Join the Community:
- Follow us @SwayLang: https://twitter.com/SwayLang
- Ask questions on Discourse: https://forum.fuel.network/

Report Bugs:
- Sway Issues: https://github.com/FuelLabs/sway/issues/new
```

{/*This example should include a tree for a new `forc` project and explain the boilerplate files*/}
{/*forc_new:example:start*/}
è¿™æ˜¯ `forc` åˆå§‹åŒ–çš„é¡¹ç›®ï¼š

<TestAction
id="contract-tree"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project'
}}
/>

```sh
tree counter-contract
```

```sh
counter-contract
â”œâ”€â”€ Forc.toml
â””â”€â”€ src
    â””â”€â”€ main.sw

1 directory, 2 files
```
`forc.toml` æ˜¯ *æ¸…å•æ–‡ä»¶*ï¼ˆç±»ä¼¼äº Cargo çš„ `Cargo.toml` æˆ– Node çš„ `package.json`ï¼‰ï¼Œç”¨äºå®šä¹‰é¡¹ç›®å…ƒæ•°æ®ï¼Œä¾‹å¦‚é¡¹ç›®åç§°å’Œä¾èµ–é¡¹ã€‚
{/*forc_new:example:end*/}

åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ‚¨çš„é¡¹ç›®ï¼Œå¹¶åˆ é™¤ `src/main.sw` ä¸­é™¤ç¬¬ä¸€è¡Œä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ã€‚

æ¯ä¸ª Sway æ–‡ä»¶éƒ½å¿…é¡»ä»¥å£°æ˜æ–‡ä»¶åŒ…å«çš„ç¨‹åºç±»å‹å¼€å§‹ï¼›åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å£°æ˜äº†è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªåˆçº¦ã€‚æ‚¨å¯ä»¥åœ¨ [Sway ä¹¦](/docs/sway/sway-program-types/) ä¸­äº†è§£æ›´å¤šå…³äº Sway ç¨‹åºç±»å‹çš„ä¿¡æ¯ã€‚

<TestAction
id="program-type"
action={{
  name: 'writeToFile',
  filepath: 'guides-testing/fuel-project/counter-contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/src/main.sw"
  comment="contract"
  commentType="//"
  lang="sway"
/>

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå­˜å‚¨å€¼ã€‚
åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º `counter` çš„å•ä¸€è®¡æ•°å™¨ï¼Œç±»å‹ä¸º `u64`ï¼ˆ64 ä½æ— ç¬¦å·æ•´æ•°ï¼‰ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸º 0ã€‚

<TestAction
id="storage"
action={{
  name: 'modifyFile',
  filepath: 'guides-testing/fuel-project/counter-contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/src/main.sw"
  comment="storage"
  commentType="//"
  lang="sway"
/>

### ABI

ABI æ„ä¸ºåº”ç”¨äºŒè¿›åˆ¶æ¥å£ã€‚
ABI å®šä¹‰äº†åˆçº¦çš„æ¥å£ã€‚
åˆçº¦å¿…é¡»å®šä¹‰æˆ–å¯¼å…¥ ABI å£°æ˜ã€‚

å°† ABI å®šä¹‰åœ¨å•ç‹¬çš„åº“ä¸­å¹¶å¯¼å…¥åˆ°åˆçº¦ä¸­è¢«è®¤ä¸ºæ˜¯æœ€ä½³å®è·µã€‚
è¿™æ ·åšå¯ä»¥è®©è°ƒç”¨åˆçº¦çš„äººæ›´è½»æ¾åœ°å¯¼å…¥å’Œä½¿ç”¨ ABIã€‚

ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†ç›´æ¥åœ¨åˆçº¦æ–‡ä»¶ä¸­å®šä¹‰ ABIã€‚

<TestAction
id="abi"
action={{
  name: 'modifyFile',
  filepath: 'guides-testing/fuel-project/counter-contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/src/main.sw"
  comment="abi"
  commentType="//"
  lang="sway"
/>

### å®ç° ABI

åœ¨æ‚¨çš„ ABI å®šä¹‰ä¸‹é¢ï¼Œæ‚¨å°†ç¼–å†™ ABI ä¸­å®šä¹‰çš„å‡½æ•°çš„å®ç°ã€‚

<TestAction
id="impl"
action={{
  name: 'modifyFile',
  filepath: 'guides-testing/fuel-project/counter-contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/src/main.sw"
  comment="counter-contract"
  commentType="//"
  lang="sway"
/>

> `storage.counter.read()` æ˜¯ä¸€ä¸ªéšå¼è¿”å›ï¼Œç­‰åŒäº `return storage.counter.read();`ã€‚

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨çš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

æ–‡ä»¶ï¼š`./counter-contract/src/main.sw`


<TestAction
id="entire-contract"
action={{
  name: 'compareToFile',
  filepath: 'guides-testing/fuel-project/counter-contract/src/main.sw'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/src/main.sw"
  comment="all"
  commentType="/*"
  lang="sway"
/>
### æ„å»ºåˆçº¦

å¯¼èˆªåˆ°æ‚¨çš„åˆçº¦æ–‡ä»¶å¤¹ï¼š

```sh
cd counter-contract
```

ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºæ‚¨çš„åˆçº¦ï¼š

<TestAction
id="build-contract"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project/counter-contract'
}}
/>

```sh
forc build
```

```sh
  Compiled library "core".
  Compiled library "std".
  Compiled contract "counter-contract".
  Bytecode size: 84 bytes.
```

è®©æˆ‘ä»¬åœ¨æ„å»ºåæŸ¥çœ‹ `counter-contract` æ–‡ä»¶å¤¹çš„å†…å®¹ï¼š

<TestAction
id="built-contract-tree"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project/counter-contract'
}}
/>

```sh
tree .
```

```sh
.
â”œâ”€â”€ Forc.lock
â”œâ”€â”€ Forc.toml
â”œâ”€â”€ out
â”‚   â””â”€â”€ debug
â”‚       â”œâ”€â”€ counter-contract-abi.json
â”‚       â”œâ”€â”€ counter-contract-storage_slots.json
â”‚       â””â”€â”€ counter-contract.bin
â””â”€â”€ src
    â””â”€â”€ main.sw

3 directories, 6 files
```

æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ª `out` ç›®å½•ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çš„æ„å»ºç»“æœï¼Œå¦‚æˆ‘ä»¬ ABI çš„ JSON è¡¨ç¤ºå’Œåˆçº¦å­—èŠ‚ç ã€‚

## ä½¿ç”¨ Rust æµ‹è¯•æ‚¨çš„åˆçº¦

> ä¸æƒ³ä½¿ç”¨ Rust è¿›è¡Œæµ‹è¯•ï¼Ÿè·³è¿‡æ­¤éƒ¨åˆ†ï¼Œè½¬åˆ° [éƒ¨ç½²åˆçº¦](#deploy-the-contract)ã€‚

æˆ‘ä»¬å°†ä»ä½¿ç”¨ Cargo ç”Ÿæˆæ¨¡æ¿æ·»åŠ ä¸€ä¸ª Rust é›†æˆæµ‹è¯•å¥—ä»¶å¼€å§‹ã€‚
å¦‚æœæ‚¨å°šæœªå®‰è£… `Rust`ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å®ƒï¼š

<CodeImport
  file="../installation/index.mdx"
  comment="install_rust_command"
  commentType="{/*"
  lang="sh"
  trim="true"
/>

æ¥ä¸‹æ¥ï¼Œå¦‚æœæ‚¨å°šæœªå®‰è£…å®ƒï¼Œè¯·å®‰è£… [`cargo generate`](https://github.com/cargo-generate/cargo-generate)ï¼š

```sh
cargo install cargo-generate --locked
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé»˜è®¤çš„æµ‹è¯•å¥—ä»¶ï¼š

<TestAction
id="cargo-generate-test"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project/counter-contract'
}}
/>

```sh
cargo generate --init fuellabs/sway templates/sway-test-rs --name counter-contract
```

```sh
âš ï¸   Favorite `fuellabs/sway` not found in config, using it as a git repository: https://github.com/fuellabs/sway.git
ğŸ”§   Destination: /home/user/path/to/counter-contract ...
ğŸ”§   project-name: counter-contract ...
ğŸ”§   Generating template ...
ğŸ”§   Moving generated files into: `/home/user/path/to/counter-contract`...
âœ¨   Done! New project created /home/user/path/to/counter-contract
```

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç»“æœï¼š

<TestAction
id="cargo-test-tree"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/fuel-project/counter-contract'
}}
/>

```sh
tree .
```

```sh
.
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ Forc.lock
â”œâ”€â”€ Forc.toml
â”œâ”€â”€ out
â”‚   â””â”€â”€ debug
â”‚       â”œâ”€â”€ counter-contract-abi.json
â”‚       â”œâ”€â”€ counter-contract-storage_slots.json
â”‚       â””â”€â”€ counter-contract.bin
â”œâ”€â”€ src
â”‚   â””â”€â”€ main.sw
â””â”€â”€ tests
    â””â”€â”€ harness.rs

4 directories, 8 files
```

{/*rust_harness:example:start*/}
æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–°æ–‡ä»¶ï¼

- `Cargo.toml` æ˜¯æˆ‘ä»¬æ–°æµ‹è¯•å¥—ä»¶çš„æ¸…å•ï¼ŒæŒ‡å®šäº†æ‰€éœ€çš„ä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬ `fuels`ï¼ˆFuel Rust SDKï¼‰ã€‚
- `tests/harness.rs` åŒ…å«ä¸€äº›æ ·æ¿æµ‹è¯•ä»£ç ï¼Œè®©æˆ‘ä»¬å¼€å§‹ï¼Œå°½ç®¡ç›®å‰è¿˜æ²¡æœ‰è°ƒç”¨ä»»ä½•åˆçº¦æ–¹æ³•ã€‚

æ‰“å¼€æ‚¨çš„ `Cargo.toml` æ–‡ä»¶å¹¶æ£€æŸ¥åœ¨ `dev-dependencies` ä¸‹ä½¿ç”¨çš„ `fuels` çš„ç‰ˆæœ¬ã€‚å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·å°†ç‰ˆæœ¬æ›´æ”¹ä¸º `0.62.0`ï¼š

```toml
[dev-dependencies]
fuels = { version = "0.62.0", features = ["fuel-core-lib"] }
tokio = { version = "1.12", features = ["rt", "macros"] }
```

{/*rust_harness:example:end*/}

ç°åœ¨æˆ‘ä»¬æœ‰äº†é»˜è®¤çš„æµ‹è¯•å¥—ä»¶ï¼Œè®©æˆ‘ä»¬å‘å…¶ä¸­æ·»åŠ ä¸€ä¸ªæœ‰ç”¨çš„æµ‹è¯•ã€‚

åœ¨ `test/harness.rs` æ–‡ä»¶çš„æœ€åº•éƒ¨ï¼Œä¸‹é¢ `can_get_contract_id()` æµ‹è¯•ä¹‹åï¼Œæ·»åŠ ä»¥ä¸‹ `test_increment` æµ‹è¯•å‡½æ•°ä»¥éªŒè¯è®¡æ•°å™¨çš„å€¼æ˜¯å¦å¾—åˆ°äº†å¢åŠ ï¼š


<TestAction
id="test-harness"
action={{
  name: 'modifyFile',
  filepath: 'guides-testing/fuel-project/counter-contract/tests/harness.rs',
  addSpacesBefore: 1,
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/tests/harness.rs"
  comment="contract-test"
  commentType="//"
  lang="rust"
/>
ä»¥ä¸‹æ˜¯æ‚¨çš„æ–‡ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼š
æ–‡ä»¶ï¼š`./counter-contract/tests/harness.rs`

<TestAction
id="final-test-harness"
action={{
  name: 'compareToFile',
  filepath: 'guides-testing/fuel-project/counter-contract/tests/harness.rs'
}}
/>

<CodeImport
  file="../../examples/counter-dapp/counter-contract/tests/harness.rs"
  comment="contract-test-all"
  commentType="/*"
  lang="rust"
/>

åœ¨ç»ˆç«¯ä¸­è¿è¡Œ `cargo test`ï¼š

\```sh
cargo test
\```

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œè¾“å‡ºåº”å¦‚ä¸‹æ‰€ç¤ºï¼š
```sh
  ...
  running 2 tests
  test can_get_contract_id ... ok
  test test_increment ... ok
  test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.25s
```
# éƒ¨ç½²åˆçº¦

ç°åœ¨æ˜¯æ—¶å€™éƒ¨ç½²äº†ã€‚æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨å‘½ä»¤è¡Œä¸­çš„ `forc` è¿›è¡Œéƒ¨ç½²ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ [Rust SDK](/docs/fuels-rs/deploying) æˆ– [TypeScript SDK](/docs/fuels-ts/contracts/deploying-contracts) è¿›è¡Œéƒ¨ç½²ã€‚

ä¸ºäº†éƒ¨ç½²åˆçº¦ï¼Œæ‚¨éœ€è¦æ‹¥æœ‰ä¸€ä¸ªé’±åŒ…æ¥ç­¾ç½²äº¤æ˜“å¹¶æ”¯ä»˜ Gas è´¹ç”¨ã€‚`Fuelup` å°†æŒ‡å¯¼æ‚¨å®Œæˆæ­¤è¿‡ç¨‹ã€‚

### è®¾ç½®æœ¬åœ°é’±åŒ…

<TextImport
  file="../installation/index.mdx"
  comment="forc_wallet_setup"
  commentType="{/*"
/>

æ‚¨å¯ä»¥ä½¿ç”¨ [faucet](https://faucet-testnet.fuel.network/) è·å–æµ‹è¯•èµ„é‡‘ã€‚

### éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `forc deploy` å‘½ä»¤å°†åˆçº¦éƒ¨ç½²åˆ°æœ€æ–°çš„æµ‹è¯•ç½‘ã€‚

```sh
forc deploy --testnet
```

{/*forc_wallet:example:start*/}
ç»ˆç«¯å°†è¦æ±‚æ‚¨è¾“å…¥é’±åŒ…çš„å¯†ç ï¼š

`Please provide the password of your encrypted wallet vault at "~/.fuel/wallets/.wallet":`

è§£é”é’±åŒ…åï¼Œç»ˆç«¯å°†æ˜¾ç¤ºè´¦æˆ·åˆ—è¡¨ï¼š

```sh
Account 0 -- fuel18caanqmumttfnm8qp0eq7u9yluydxtqmzuaqtzdjlsww5t2jmg9skutn8n:
  Asset ID                                                           Amount
  0000000000000000000000000000000000000000000000000000000000000000 499999940
```

åœ¨åˆ—è¡¨ä¸‹æ–¹ï¼Œæ‚¨å°†çœ‹åˆ°æ­¤æç¤ºï¼š

`Please provide the index of account to use for signing:`

ç„¶åï¼Œæ‚¨å°†è¾“å…¥é¦–é€‰è´¦æˆ·çš„ç¼–å·ï¼Œå¹¶åœ¨æç¤ºæ—¶æŒ‰ `Y` ä»¥æ¥å—äº¤æ˜“ã€‚

æœ€åï¼Œæ‚¨å°†è·å¾—éƒ¨ç½²åˆçº¦çš„ç½‘ç»œç«¯ç‚¹ã€`Contract ID` å’Œäº¤æ˜“ç­¾åçš„åŒºå—ã€‚
{/*forc_wallet:example:end*/}

ä¿å­˜ `Contract ID`ï¼Œå› ä¸ºæ‚¨ç¨åéœ€è¦ç”¨åˆ°å®ƒæ¥è¿æ¥å‰ç«¯ã€‚

```sh
Contract counter-contract Deployed!

Network: https://testnet.fuel.network
Contract ID: 0x8342d413de2a678245d9ee39f020795800c7e6a4ac5ff7daae275f533dc05e08
Deployed in block 0x4ea52b6652836c499e44b7e42f7c22d1ed1f03cf90a1d94cd0113b9023dfa636
```

### æ­å–œï¼Œæ‚¨å·²ç»å®Œæˆäº†åœ¨ Fuel ä¸Šçš„ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦éƒ¨ç½² â›½

[è¿™æ˜¯è¯¥é¡¹ç›®çš„ä»“åº“](https://github.com/FuelLabs/docs-hub/tree/master/docs/guides/examples/counter-dapp)ã€‚å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¸€ä¸ªå¾ˆå¥½çš„ç¬¬ä¸€æ­¥æ˜¯å°†æ‚¨çš„ä»£ç ä¸è¯¥ä»“åº“è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è§£å†³ä»»ä½•å·®å¼‚ã€‚

åœ¨ Twitter ä¸Šç»™æˆ‘ä»¬å‘æ¨ [@fuel_network](https://twitter.com/fuel_network)ï¼Œè®©æˆ‘ä»¬çŸ¥é“æ‚¨åˆšåœ¨ Fuel ä¸Šæ„å»ºäº†ä¸€ä¸ª dappï¼Œæ‚¨å¯èƒ½ä¼šè¢«é‚€è¯·åŠ å…¥å»ºè®¾è€…çš„ç§äººç¾¤ç»„ï¼Œè¢«é‚€è¯·å‚åŠ ä¸‹ä¸€æ¬¡ Fuel æ™šå®´ï¼Œè·å¾—é¡¹ç›®çš„ Alpha ç‰ˆæœ¬ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆäº‹æƒ… ğŸ‘€ã€‚

## éœ€è¦å¸®åŠ©å—ï¼Ÿ

é€šè¿‡åœ¨ [Fuel è®ºå›](https://forum.fuel.network/) ä¸Šå‘å¸ƒæ‚¨çš„é—®é¢˜æ¥è·å–å›¢é˜Ÿçš„å¸®åŠ©ã€‚
