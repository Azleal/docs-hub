---
title: 在Rust测试中记录日志
category: Intro to Predicates
parent:
  label: All Guides
  link: /guides
---
# 在 Rust 测试中记录日志

## 生成 Rust 测试模板

要使用 Rust 创建你自己的测试模板，请在脚本项目目录中按照以下步骤操作 `cargo-generate`：

1. 安装 `cargo-generate`：

```bash
cargo install cargo-generate --locked
```
{/*markdownlint-disable*/}
2. 生成模板：
{/*markdownlint-disable*/}
 
 

<TestAction
id="cargo-generate-test"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/predicate-script-logging/'
}}
/>

```bash
cargo generate --init fuellabs/sway templates/sway-test-rs --name sway-store
```

## 记录日志

我们之前在 Sway 教程的介绍中涵盖了导入和设置 predicate，特别是在 [Rust 测试部分](https://docs.fuel.network/guides/intro-to-sway/rust-sdk/)。如果你还没有查看那个部分，我强烈建议你先去看看。

复制并粘贴下面的 Rust 测试代码：
 

<TestAction
id="sway-program-type"
action={{
  name: 'writeToFile',
  filepath: 'guides-testing/predicate-script-logging/tests/harness.rs'
}}
/>

<CodeImport
  file="../../examples/intro-to-predicates/predicate-script-logging/tests/harness.rs"
  comment="all"
  commentType="//"
  lang="sway"
/>

现在，我想引起你注意的是代码的特定部分：
 
<CodeImport
  file="../../examples/intro-to-predicates/predicate-script-logging/tests/harness.rs"
  comment="logs"
  commentType="//"
  lang="sway"
/>
我们现在可以调用 `decode_logs` 来提取我们的秘密数字，这是我们在使用 predicates 进行测试时无法做到的。

要使测试期间的打印输出出现在控制台中，你可以使用 `nocapture` 标志。
  
<TestAction
id="cargo-test"
action={{
  name: 'runCommand',
  commandFolder: 'guides-testing/predicate-script-logging/'
}}
/>

```sh
cargo test -- --nocapture
```

在开发更复杂的 predicates 时，记住这种方法是至关重要的，特别是当调试变得越来越具有挑战性时。

